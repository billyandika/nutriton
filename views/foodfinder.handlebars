<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>nuTriton</title>
    <link rel="shortcut icon" href="images/leaf.ico">
    <!-- Font -->
  	<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro|Lato|Open+Sans:400,600' rel='stylesheet' type='text/css'>
  	<link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic|Ubuntu:300,400,500,700,300italic,400italic,500italic|Open+Sans:400italic,600italic,700italic,700,600,400|Roboto:400,300italic,300,400italic,500,500italic,700,700italic|Raleway:400,300,500,600,700|Pacifico' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
      <!-- Bootstrap -->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
  	 <!-- Gritter -->
    <script src="js/jquery-1.11.0.min.js"></script>
    <!-- Lightbox -->
  	<link href="css/lightbox.css" rel="stylesheet" />
    
    {{> tracking_code_script}}

    <style>
  	body {
  		background-color: #e9f1d0;
  		font-family: 'Montserrat', sans-serif;
  	}

  	h3 {
  		margin: 0px;
  		padding:10px 0px 0px 0px;
  	}
  	h4 {
  		clear:both;
  	}
  	.panel-body {
  		background-color: #f8faef;
  	}
  	
  	.navbar-brand {
  		font-family: "Pacifico", serif;
  		font-size: 22pt;
  		text-shadow: 2px 2px 3px #17A57D;
  	}

	
.navbar-default {
  background-color: #87b822;
  border-color: #87b822;
  font-size: 1.05em;
}
.navbar-default .navbar-brand {
  color: #ffffff;
}
.navbar-default .navbar-brand:hover, .navbar-default .navbar-brand:focus {
  color: #ffffff;
}
.navbar-default .navbar-text {
  color: #d4dca8;
}
.navbar-default .navbar-nav > li > a {
  color: #d4dca8;
}
.navbar-default .navbar-nav > li > a:hover, .navbar-default .navbar-nav > li > a:focus {
  color: #ffffff;
}
.navbar-default .navbar-nav > .active > a, .navbar-default .navbar-nav > .active > a:hover, .navbar-default .navbar-nav > .active > a:focus {
  color: #ffffff;
  background-color: #87b822;
}
.navbar-default .navbar-nav > .open > a, .navbar-default .navbar-nav > .open > a:hover, .navbar-default .navbar-nav > .open > a:focus {
  color: #ffffff;
  background-color: #87b822;
}
.navbar-default .navbar-toggle {
  border-color: #87b822;
}
.navbar-default .navbar-toggle:hover, .navbar-default .navbar-toggle:focus {
  background-color: #87b822;
}
.navbar-default .navbar-toggle .icon-bar {
  background-color: #d4dca8;
}
.navbar-default .navbar-collapse,
.navbar-default .navbar-form {
  border-color: #d4dca8;
}
.navbar-default .navbar-link {
  color: #d4dca8;
}
.navbar-default .navbar-link:hover {
  color: #ffffff;
}

@media (max-width: 767px) {
  .navbar-default .navbar-nav .open .dropdown-menu > li > a {
    color: #d4dca8;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > li > a:hover, .navbar-default .navbar-nav .open .dropdown-menu > li > a:focus {
    color: #ffffff;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > .active > a, .navbar-default .navbar-nav .open .dropdown-menu > .active > a:hover, .navbar-default .navbar-nav .open .dropdown-menu > .active > a:focus {
    color: #ffffff;
    background-color: #87b822;
  }
}
	/* Responsive embed CSS for Google Maps */
/*    .google-maps {
        position: relative;
        padding-bottom: 75%; // This is the aspect ratio
        height: 0;
        overflow: hidden;
    }
    .google-maps iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100% !important;
        height: 100% !important;
    }*/

	/* Responsive embed CSS for Google Maps */
	#mapContainer {
	    height: 500px;
	    width: 100%;
	}

	@media only screen and (min-width: 768px) and (max-width: 959px) {
		#mapContainer {
		    height: 500px;
	    	width: 100%;
		}
	}	
		
	@media only screen and (max-width: 767px) {
		#mapContainer {
		    height: 260px;
	    	width: 100%;
		}
	}	

	@media only screen and (min-width: 480px) and (max-width: 767px) {
		#mapContainer {
		    height: 400px;
	    	width: 100%;
		}
	}	

    </style>

  </head>
  <body>

  	<!-- NAVBAR -->
	<div class="navbar navbar-default navbar-fixed-top">
		<div class="container">
			<div class="navbar-header"> 
				<a href="foodfinder" class="navbar-brand nutriton_click">nuTriton </a> 
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
			</div>

			<div class="collapse navbar-collapse">
				<ul class="nav navbar-nav navbar-right">
          <li class="active"> <a href="foodfinder" class="foodfinder_click" > Food Finder </a></li>
					<li> <a href="index" class="feed_click"> Feed </a></li>
					<li> <a href="profile" class="profile_click">Profile </a></li>
					<li> <a href="/" class="logout_click"> Log Out </a></li>
				</ul>
			</div>

		</div>
	</div>

	<div class="container">
	  <br/><br/><br/>
    <a href="#" class="btn btn-default pull-right foodfinder_help_click" data-toggle="modal" data-target="#basicModal">?</a>
      
      <div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
          <div class="modal-dialog">
              <div class="modal-content">
                  <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                  <h4 class="modal-title" id="myModalLabel">Food Finder Page</h4>
                  </div>
                  <div class="modal-body">
                      <p>Don't know where to head next? Take a look at the map to find the nearest on campus food location. Not sure what is the best thing on the menu? Visit one of the food location subpages to see what others think of today's options.</p>
                  </div>
                  <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              </div>
          </div>
        </div>
      </div>
    <br/><br/>

	  <div id="mapContainer"></div>
    
    <a href="market" class="version_a">  
    <div class="panel panel-default ">
        <div class="panel-body">
          <h3>All Markets</h3>
        </div>
    </div>
    </a>
    
    <a href="canyonvista" class="version_a">
		<div class="panel panel-default ">
  			<div class="panel-body">
  				<h3>Canyon Vista </h3>
  			</div>
		</div>
    </a>

    <a href="pines" class="version_a">
		<div class="panel panel-default ">
			<div class="panel-body">
  				<h3>Pines</h3>
  			</div>
  		</div>
    </a>

    <a href="roots" class="version_a">
  		<div class="panel panel-default ">
  			<div class="panel-body">
  				<h3>Roots</h3>
  			</div>
  		</div>
    </a>

    <a href="bistro" class="version_a">
  		<div class="panel panel-default ">
  			<div class="panel-body">
  				<h3>The Bistro</h3>
  			</div>
  		</div>
    </a>

    <a href="cafev" class="version_a">
  		<div class="panel panel-default ">
  			<div class="panel-body">
  				<h3>Cafe Ventanas</h3>
  			</div>
  		</div>
    </a>

    <a href="clubmed" class="version_a">
  		<div class="panel panel-default ">
  			<div class="panel-body">
  				<h3>Club Med</h3>
  			</div>
  		</div>
      </a>

    <a href="foodworx" class="version_a">
  		<div class="panel panel-default ">
  			<div class="panel-body">
  				<h3>Foodworx</h3>
  			</div>
  		</div>
    </a>
    
    <a href="goodys" class="version_a bottom_three">
  		<div class="panel panel-default ">
  			<div class="panel-body">
  				<h3>Goody's Place and Market</h3>
  			</div>
  		</div>
    </a>

    <a href="ovt" class="version_a bottom_three">
  		<div class="panel panel-default ">
  			<div class="panel-body">
  				<h3>Oceanview Terrace</h3>
  			</div>
  		</div>
    </a>

    <a href="sixtyfourdegrees" class="version_a bottom_three">
  		<div class="panel panel-default ">
  			<div class="panel-body">
  				<h3>64 Degrees</h3>
  			</div>
  		</div>
    </a>  
	   </div>


    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
	
	<!-- The following two js are Lightbox jquery scripts -->
	<script src="js/lightbox.min.js"></script>
	<script src="js/nutriton.js"></script>

	<!-- Include Google Maps API -->
	<script src="http://maps.google.com/maps/api/js?sensor=false"></script>  <!-- js?v=3.exp&signed_in=true"></script> --> <!-- js?sensor=false"></script> -->
	<script>
		function showMap() {
		 	
		 	var map;
			//If HTML5 Geolocation Is Supported In This Browser
		    if (navigator.geolocation) {				    
			    //Use HTML5 Geolocation API To Get Current Position
		        navigator.geolocation.getCurrentPosition(function(position){		       
			        //Get Latitude From Geolocation API
			        var latitude = position.coords.latitude;			        
			        //Get Longitude From Geolocation API
			        var longitude = position.coords.longitude;			        
			        //Define New Google Map With Lat / Lon
			        var coords = new google.maps.LatLng(latitude, longitude);			     
			        //Specify Google Map Options
			        var mapOptions = {
			            zoom: 16,
			            center: coords,
			            mapTypeControl: true,
			            navigationControlOptions: {style: google.maps.NavigationControlStyle.SMALL}, mapTypeId: google.maps.MapTypeId.ROADMAP};
			            map = new google.maps.Map(document.getElementById("mapContainer"), mapOptions);
			            var marker = new google.maps.Marker({
			                position: coords,
			                map: map,
			                title: "You Are Here!"
			    		});
			    		setMarkers(map, locationUCSD);
					}
				);
		    } else {
			    //Otherwise - Gracefully Fall Back If Not Supported... Probably Best Not To Use A JS Alert Though :)
		        alert("Geolocation API is not supported in your browser.");
		    }	

			var locationUCSD = [
    			["Canyon Vista", 32.884021, -117.233263, 1],
    			["Earl\'s Place and Market", 32.883846, -117.233279, 2],
    			["Sixth College Place and Market", 32.879132, -117.230909, 3],
    			["Foodworx", 32.878765, -117.230438, 4],
	   			["Cafe Ventanas", 32.886081, -117.242724, 5],
     			["Oceanview Terrace Restaurant", 32.883107, -117.242721, 6],
     			["Goody\'s Place and Market", 32.882903, -117.240344, 7],
	     		["Pines", 32.879001, -117.242530, 8],
     			["Muir Woods Coffee House", 32.878870, -117.242545, 9],
    			["Roger\'s Place and Market", 32.874924, -117.242312, 10],
    			["64 Degrees", 32.874728, -117.242025, 11],
    			["Roots", 32.876085, -117.235369, 12],
    			["The Bistro", 32.887947, -117.242044, 13],  
    			["The Village", 32.887596, -117.242149, 14],
    			["Sunshine Market", 32.879692, -117.236082, 15]
    		];

    		var infoWindow = new google.maps.InfoWindow();

    	// Info Window Content
    	var infoWindowContent = [
    		["Canyon Vista"],
    		["Earl\'s Place and Market"],
    		["Sixth College Place and Market"],
    		["Foodworx"],
    		["Cafe Ventanas"],
    		["Oceanview Terrace Restaurant"],
    		["Goody\'s Place and Market"],
    		["Pines"],
    		["Muir Woods Coffee House"],
    		["Roger\'s Place and Market"],
    		["64 Degrees"],
    		["Roots"],
    		["The Bistro"],
    		["The Village"],
    		["Sunshine Market"]
    	];

			function setMarkers(map, locations) {
    			for (var i = 0; i < locations.length; i++) {
    				var dining = locations[i];
    				var myLatLng = new google.maps.LatLng(dining[1], dining[2]);
   					var foodLoc = new google.maps.Marker({
        				position: myLatLng,
       					map: map,
        				title: dining[0],
        				zIndex: dining[3],
        				draggable: false,
        				animation: google.maps.Animation.DROP
    				});
   					foodLoc.setIcon('images/google-marker.png');

   					// Allow each marker to have an info window    
       				google.maps.event.addListener(foodLoc, 'click', (function(foodLoc, i) {
           				return function() {
                			infoWindow.setContent(infoWindowContent[i][0]);
                			infoWindow.open(map, foodLoc);
            			}
        			})(foodLoc, i));
        		}
   				
   			}
		}   
	    
		//Once Page Is Populated - Initiate jQuery
		$(document).ready(function() {
			
		  //Show The Map
		  showMap();
		 
		  // When The Viewing Window Is Resized
		  $(window).resize(function() {
			  
			  //CSS Resizes Container So Lets Recall The Map Function
			  showMap();
			  
		  });
		 
		});
	        
	</script>
	
  </body>
</html>